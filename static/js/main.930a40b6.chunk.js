(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){t.exports={deleteTask:"TodolistTask_deleteTask__3KxyD",todoListTask:"TodolistTask_todoListTask__1hOs-",todoListTaskDone:"TodolistTask_todoListTaskDone__1OhvE",inputChange:"TodolistTask_inputChange__3-C_h"}},16:function(t,e,n){t.exports={content:"Todolist_content__3JRCY",tasks:"Todolist_tasks__3yVQ6"}},17:function(t,e,n){t.exports={content:"TodolistTitle_content__3dyV5",titleTodolist:"TodolistTitle_titleTodolist__32B2b"}},33:function(t,e,n){t.exports=n(61)},38:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),i=n(12),s=n.n(i),r=(n(38),n(1)),c=n(13),l=n(3),d=n(2),u=n(4),p=(n(9),n(16)),f=n.n(p),T=n(11),h=n.n(T),k=function(t){function e(){var t,n;Object(r.a)(this,e);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;n.props.changeStatus(n.props.task,e)},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.state={editMode:!1,title:n.props.task.title},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){n.props.changeTitle(n.props.task,n.state.title),n.setState({editMode:!1})},n.onDeleteTask=function(){n.props.deleteTask(n.props.task.id)},n.render=function(){var t=n.props.task.status?"".concat(h.a.todoListTaskDone):"".concat(h.a.todoListTask),e="";switch(n.props.task.priority){case 0:e="Low";break;case 1:e="Middle";break;case 2:e="High";break;case 3:e="Urgently";break;case 4:e="Later"}return a.a.createElement("div",{className:t},a.a.createElement("input",{type:"checkbox",checked:2===n.props.task.status,onChange:n.onIsDoneChanged}),n.state.editMode?a.a.createElement("input",{className:h.a.inputChange,onBlur:n.deactivateEditMode,onChange:n.onTitleChanged,autoFocus:!0,value:n.state.title}):a.a.createElement("span",{onClick:n.activateEditMode},n.props.task.title),a.a.createElement("span",null,",")," ",a.a.createElement("span",null,"priority: ",e)," ",a.a.createElement("button",{className:h.a.deleteTask,title:"delete Task",onClick:n.onDeleteTask},"X"))},n}return Object(u.a)(e,t),e}(a.a.Component),m=function(t){function e(){var t,n;Object(r.a)(this,e);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).render=function(){var t=n.props.tasks.map(function(t){return a.a.createElement(k,{key:t.id,task:t,changeStatus:n.props.changeStatus,changeTitle:n.props.changeTitle,deleteTask:n.props.deleteTask})});return a.a.createElement("div",{className:"todoList-tasks"},t)},n}return Object(u.a)(e,t),e}(a.a.Component),v=function(t){function e(){var t,n;Object(r.a)(this,e);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={isHidden:!1},n.onAllFilterClick=function(){n.props.changeFilter("All")},n.onCompletedFilterClick=function(){n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){n.props.changeFilter("Active")},n.onShowFiltersClick=function(){n.setState({isHidden:!0})},n.onHideFiltersClick=function(){n.setState({isHidden:!1})},n.render=function(){var t="All"===n.props.filterValue?"filter-active":"otherButtons",e="Completed"===n.props.filterValue?"filter-active":"otherButtons",o="Active"===n.props.filterValue?"filter-active":"otherButtons";return a.a.createElement("div",{className:"todoList-footer"},a.a.createElement("div",null,!n.state.isHidden&&a.a.createElement("div",null,a.a.createElement("button",{onClick:n.onAllFilterClick,className:t},"All"),a.a.createElement("button",{onClick:n.onCompletedFilterClick,className:e},"Completed"),a.a.createElement("button",{onClick:n.onActiveFilterClick,className:o},"Active"))),!n.state.isHidden&&a.a.createElement("span",{onClick:n.onShowFiltersClick},"hide buttons"),n.state.isHidden&&a.a.createElement("span",{onClick:n.onHideFiltersClick},"show buttons"))},n}return Object(u.a)(e,t),e}(a.a.Component),b=n(17),O=n.n(b),g=function(t){function e(){var t,n;Object(r.a)(this,e);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={editMode:!1,todolistName:n.props.title},n.onTodolistNameChanged=function(t){n.setState({todolistName:t.currentTarget.value})},n.activatedEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){n.props.changeTodolist(n.state.todolistName),n.setState({editMode:!1})},n.render=function(){return a.a.createElement("div",{className:O.a.content},a.a.createElement("div",{className:O.a.titleTodolist},n.state.editMode?a.a.createElement("input",{onBlur:n.deactivateEditMode,onChange:n.onTodolistNameChanged,autoFocus:!0,value:n.state.todolistName}):a.a.createElement("div",{onClick:n.activatedEditMode},a.a.createElement("h3",{className:"todoList-header__title"},n.props.title))),a.a.createElement("button",{title:"delete Todolist",onClick:n.props.onDelete},"X"))},n}return Object(u.a)(e,t),e}(a.a.Component),E=function(t){function e(){var t,n;Object(r.a)(this,e);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={error:!1,title:""},n.onAddItemClick=function(){var t=n.state.title;n.setState({title:""}),""===t?n.setState({error:!0}):(n.setState({error:!1}),n.props.addItem(t))},n.onTitleChanged=function(t){n.setState({error:!1,title:t.currentTarget.value})},n.onKeyPress=function(t){"Enter"===t.key&&n.onAddItemClick()},n.render=function(){var t=n.state.error?"error":"";return a.a.createElement("div",{className:"todoList-newTaskForm"},a.a.createElement("input",{className:t,type:"text",placeholder:"New item name",onChange:n.onTitleChanged,onKeyPress:n.onKeyPress,value:n.state.title}),a.a.createElement("button",{title:n.props.titleButton,onClick:n.onAddItemClick},"Add"))},n}return Object(u.a)(e,t),e}(a.a.Component),y=n(8),j=n(20),C=n(14),L=n(31);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}var S=n.n(L).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1/",headers:{"API-KEY":"03b7c8a3-c090-4973-97f1-0b2f1558bdc8"}}),D=function(t,e){return S.post("todo-lists/".concat(e,"/tasks"),{title:t})},A=function(t){return S.post("todo-lists",{title:t})},I=function(){return S.get("todo-lists")},_=function(t){return S.get("todo-lists/".concat(t,"/tasks"))},N=function(t,e,n,o){return S.put("todo-lists/".concat(t,"/tasks/").concat(e),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(n,!0).forEach(function(e){Object(C.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n,{},o))},P=function(t){return S.delete("todo-lists/".concat(t))},M=function(t,e){return S.delete("todo-lists/".concat(t,"/tasks/").concat(e))},F=function(t,e){return S.put("todo-lists/".concat(e),t)};function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(n,!0).forEach(function(e){Object(C.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var V="TodoList/Reducer/ADD-TASK",B={todolists:[]},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/ADD-TODOLIST":return K({},t,{todolists:[e.newTodolist].concat(Object(j.a)(t.todolists))});case"TodoList/Reducer/DELETE-TODOLIST":return K({},t,{todolists:t.todolists.filter(function(t){return t.id!==e.todolistId})});case"TodoList/Reducer/SET-TODOLIST":return K({},t,{todolists:e.todolists.map(function(t){return K({},t,{tasks:[]})})});case"TodoList/Reducer/SET-TASKS":return K({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?K({},t,{tasks:e.tasks}):t})});case"TodoList/Reducer/DELETE-TASK":return K({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?K({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})}):t})});case V:return K({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?K({},t,{tasks:[].concat(Object(j.a)(t.tasks),[e.newTask])}):t})});case"TodoList/Reducer/UPDATE_TODOLIST":return K({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?K({},t,{title:e.todolistTitle}):t})});case"TodoList/Reducer/UPDATE-TASK":return K({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?K({},t,{tasks:t.tasks.map(function(t){return t.id!==e.task.id?t:K({},t,{},e.obj)})}):t})})}return console.log("reducer: ",e),t},x=function(t){function e(){var t,n;Object(r.a)(this,e);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={filterValue:"All"},n.addTask=function(t){n.props.addTaskT(t,n.props.id)},n.changeFilter=function(t){n.setState({filterValue:t})},n.changeTaskThis=function(t,e){n.props.changeTaskTC(t,e,n.props.id,t.id)},n.changeTodolist=function(t){n.props.changeTodolist(t,n.props.id)},n.changeStatus=function(t,e){n.changeTaskThis(t,{status:e})},n.changeTitle=function(t,e){n.changeTaskThis(t,{title:e})},n.deleteTodolist=function(){n.props.deleteTodolist(n.props.id)},n.deleteTask=function(t){n.props.deleteTask(n.props.id,t)},n.render=function(){var t=n.props.tasks,e=void 0===t?[]:t;return a.a.createElement("div",{className:f.a.content},a.a.createElement("div",{className:"todoList-header"},a.a.createElement(g,{onClick:n.activatedEditMode,title:n.props.title,onDelete:n.deleteTodolist,changeTodolist:n.changeTodolist}),a.a.createElement(E,{titleButton:"Add task",addItem:n.addTask})),a.a.createElement("div",{className:f.a.tasks},a.a.createElement(m,{changeStatus:n.changeStatus,changeTitle:n.changeTitle,deleteTask:n.deleteTask,tasks:e.filter(function(t){return"All"===n.state.filterValue||("Active"===n.state.filterValue?0===t.status:"Completed"===n.state.filterValue?2===t.status:void 0)})})),a.a.createElement(v,{changeFilter:n.changeFilter,filterValue:n.state.filterValue}))},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.getTasks(this.props.id)}}]),e}(a.a.Component),U=Object(y.b)(null,{addTaskT:function(t,e){return function(n){D(t,e).then(function(t){var o=t.data.data.item;n(function(t,e){return{type:V,newTask:t,todolistId:e}}(o,e))})}},getTasks:function(t){return function(e){_(t).then(function(n){var o=n.data.items;e({type:"TodoList/Reducer/SET-TASKS",tasks:o,todolistId:t})})}},changeTaskTC:function(t,e,n,o){return function(a){N(n,o,t,e).then(function(t){a(function(t,e,n){return{type:"TodoList/Reducer/UPDATE-TASK",task:t,obj:e,todolistId:n}}(t.data.data.item,e,n))})}},changeTodolist:function(t,e){return function(n){F(t,e).then(function(o){0===o.data.resultCode&&n({type:"TodoList/Reducer/UPDATE_TODOLIST",todolistTitle:t,todolistId:e})})}},deleteTodolist:function(t){return function(e){P(t).then(function(){e({type:"TodoList/Reducer/DELETE-TODOLIST",todolistId:t})})}},deleteTask:function(t,e){return function(n){M(t,e).then(function(o){n(function(t,e){return{type:"TodoList/Reducer/DELETE-TASK",todolistId:t,taskId:e}}(t,e))})}}})(x),J=function(t){function e(){var t,n;Object(r.a)(this,e);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).addTodoList=function(t){n.props.addTodoList(t)},n.render=function(){var t=n.props.todolists.map(function(t){return a.a.createElement(U,{id:t.id,key:t.id,title:t.title,tasks:t.tasks})});return a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"header"},a.a.createElement(E,{titleButton:"Add To Do List",addItem:n.addTodoList})),a.a.createElement("div",{className:"App"},t))},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.getTodoList()}}]),e}(a.a.Component),W=Object(y.b)(function(t){return{todolists:t.todolists}},{getTodoList:function(){return function(t){I().then(function(e){t({type:"TodoList/Reducer/SET-TODOLIST",todolists:e.data})})}},addTodoList:function(t){return function(e){A(t).then(function(t){var n=t.data.data.item;e({type:"TodoList/Reducer/ADD-TODOLIST",newTodolist:n})})}}})(J);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=n(10),Y=n(32),Q=Object(X.c)(H,Object(X.a)(Y.a));window.store=Q;var $=Q;s.a.render(a.a.createElement(y.a,{store:$},a.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,n){}},[[33,1,2]]]);
//# sourceMappingURL=main.930a40b6.chunk.js.map